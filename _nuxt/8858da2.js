(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{295:function(e,t,r){"use strict";var n=r(291);r.d(t,"a",(function(){return n.l})),r.d(t,"b",(function(){return n.m})),r.d(t,"c",(function(){return n.o})),r.d(t,"d",(function(){return n.p})),r.d(t,"e",(function(){return n.r})),r.d(t,"f",(function(){return n.t}))},314:function(e,t,r){"use strict";r.r(t);var n=r(4),l=(r(22),r(23),r(295)),o={name:"AdminEditPDFMenu",props:{baseLocation:{required:!0,type:String},title:{required:!0,type:String}},data:function(){return{fileToUpload:null,currentFileName:null,currentFileUrl:null,currentFilePath:null,storage:null}},computed:{buttonDisabled:function(){return null===this.fileToUpload}},created:function(){this.storage=Object(l.c)(),this.getCurrentFile()},methods:{fileToUploadChange:function(e){this.fileToUpload=e.target.files[0]},getCurrentFile:function(){var e=this;Object(l.d)(Object(l.e)(this.storage,this.baseLocation)).then((function(data){var t=data.items[0];t?(e.currentFileName=t.name||null,e.currentFilePath=t.fullPath||null,Object(l.b)(Object(l.e)(e.storage,t.fullPath)).then((function(t){e.currentFileUrl=t}))):e.currentFileName=e.currentFileUrl=e.currentFilePath=null}))},manuallyDeleteCurrentFile:function(){confirm("Are you sure?")&&this.deleteCurrentFile()},deleteCurrentFile:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(l.a)(Object(l.e)(e.storage,e.currentFilePath));case 3:e.getCurrentFile(),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))()},saveCurrentFile:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.deleteCurrentFile();case 2:return t.prev=2,t.next=5,Object(l.f)(Object(l.e)(e.storage,e.baseLocation+e.fileToUpload.name),e.fileToUpload);case 5:r=t.sent,Object(l.b)(r.ref).then((function(t){e.currentFileUrl=t})),e.currentFileName=r.metadata.name,e.$refs.fileUploadInput.value=e.fileToUpload=null,t.next=13;break;case 11:t.prev=11,t.t0=t.catch(2);case 13:case"end":return t.stop()}}),t,null,[[2,11]])})))()}}},c=r(52),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.storage?r("div",{staticClass:"py-2 px-4"},[r("div",{staticClass:"flex"},[r("div",{staticClass:"block p-6 rounded-lg shadow-lg bg-white max-w-sm flex flex-col items-center"},[r("h5",{staticClass:"text-gray-900 text-xl leading-tight font-medium mb-2"},[e._v("\n                "+e._s(e.title)+"\n            ")]),e._v(" "),r("div",{staticClass:"flex justify-cente flex-col"},[r("div",{staticClass:"mb-3 w-60"},[e.currentFileName?r("ul",{staticClass:"w-60 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[r("li",{staticClass:"w-full px-4 py-2 border-b border-gray-200 rounded-t-lg dark:border-gray-600 flex"},[r("a",{staticClass:"flex-grow",attrs:{href:e.currentFileUrl,target:"_blank"}},[e._v("\n                                "+e._s(e.currentFileName))]),e._v(" "),r("a",{staticClass:"cursor-pointer",on:{click:e.manuallyDeleteCurrentFile}},[e._v("x")])])]):r("span",[e._v(" No menu uploaded yet! ")])]),e._v(" "),r("div",{staticClass:"mb-3 w-60"},[r("input",{ref:"fileUploadInput",staticClass:"w-60 form-control block px-2 py-1 text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",attrs:{type:"file"},on:{change:e.fileToUploadChange}})])]),e._v(" "),r("button",{class:"inline-block px-6 py-2.5 bg-indigo-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out "+(e.buttonDisabled?"opacity-50 cursor-default":"hover:bg-blue-700"),attrs:{type:"button",disabled:e.buttonDisabled},on:{click:e.saveCurrentFile}},[e._v("\n                Save\n            ")])])])]):e._e()}),[],!1,null,"b1ebeee4",null);t.default=component.exports}}]);